language: ruby
rvm:
    - "1.9.3"
node_js:
    - "0.10"
script: rspec --format nested && grunt build && grunt karma
before_install:
    - nvm install v0.10
    - nvm use v0.10
    - npm --version
    - node --version
    - ruby --version
    - gem --version
    - sudo apt-get update -qq
    - sudo apt-get install -qq g++ make git sqlite3 libsqlite3-ruby1.9.1 libsqlite3-dev cgroup-lite redir libxslt1-dev libxml2-dev
    - npm install -g grunt-cli bower
    - npm install
    - bower install
    - export DISPLAY=:99.0
    - sh -e /etc/init.d/xvfb start
